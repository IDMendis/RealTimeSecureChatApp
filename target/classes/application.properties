# ============================================
# Server Configuration
# ============================================
server.port=8080

# Application name
spring.application.name=RealTimeSecureChatApp

# ============================================
# H2 Database Configuration (Development)
# ============================================
# JDBC URL for in-memory H2 database
spring.datasource.url=jdbc:h2:mem:chatdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console Configuration (accessible at http://localhost:8080/h2-console)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=false

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ============================================
# WebSocket & STOMP Configuration
# ============================================
# These properties are used in WebSocketConfig.java
# STOMP endpoint: /ws (with SockJS fallback)
# Application destination prefix: /app (messages sent from client to server)
# Topic prefix: /topic (broadcast messages to subscribers)
# User destination prefix: /user (private messages to specific users)

# WebSocket message size limits (optional, defaults are usually sufficient)
# spring.websocket.message-size-limit=128KB
# spring.websocket.send-buffer-size-limit=512KB

# ============================================
# Logging Configuration
# ============================================
# Root logging level
logging.level.root=INFO

# Spring Framework logging
logging.level.org.springframework=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO

# WebSocket-specific logging (set to DEBUG for detailed WebSocket traffic)
logging.level.org.springframework.messaging=INFO
logging.level.org.springframework.web.socket=INFO

# Application package logging (set to DEBUG for detailed application logs)
logging.level.com.example.chatserver=DEBUG

# Hibernate SQL logging (already enabled via spring.jpa.show-sql)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ============================================
# Security Configuration
# ============================================
# TODO (Member 3 - Security): Configure JWT secret, expiration, and other security properties
# Example:
# jwt.secret=your-secret-key-here
# jwt.expiration=86400000
# jwt.header=Authorization
# jwt.prefix=Bearer 

# For development: permit H2 console and WebSocket endpoints
# Production: Tighten security, enable HTTPS, restrict CORS origins

# ============================================
# CORS Configuration (Development Only)
# ============================================
# NOTE: WebSocketConfig uses setAllowedOriginPatterns("*") for development
# TODO (Production): Restrict to specific origins for security
# Example: spring.web.cors.allowed-origins=https://yourdomain.com

# ============================================
# File Upload Configuration (Future Enhancement)
# ============================================
# TODO (Member 4 - File Transfer): Configure file upload settings
# spring.servlet.multipart.max-file-size=10MB
# spring.servlet.multipart.max-request-size=10MB
# file.upload-dir=./uploads

# ============================================
# Encryption Configuration (Future Enhancement)
# ============================================
# TODO (Member 3 - Security): Add AES/RSA encryption keys and configuration
# encryption.aes.key=your-aes-key-here
# encryption.rsa.public-key=your-rsa-public-key-here
# encryption.rsa.private-key=your-rsa-private-key-here
